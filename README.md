# HW 1
---

## Summary:

Best Assets (largest rsquared sum)

BEST ASSET GROUP:  'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,KIM': 
RSQUARED SUM: 			361.33979851841366

Hash table of asset group and their corresponding rsquared sum:

{u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,SO,RJF': 354.97124351295565, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,JKHY': 358.773013440902, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,AEE': 357.79440910683246, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,TK': 354.5587221827253, u'ACHC,ACE,JKHY,CRM,NE,PCG,SWK,DEI,PPG,EMN': 344.66415339080777, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,EMC': 355.7424135967077, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,SO,RJF,LPI': 355.47156645980897, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,AGCO': 358.62554848847213, u'FOX,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,SIG': 318.7260344302028, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,PCAR': 353.897509993381, u'ACE,JKHY,CRM,NE,PCG,DEI,PPG,WCC,BKU,TWX': 346.2837096047743, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,TCB': 357.41768137390073, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,COF': 344.5239066447097, u'MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,OGE,AAL': 335.87961884298204, u'ACE,JKHY,CRM,PCG,DEI,PPG,WCC,BKU,EOG,IVZ': 351.6382583285525, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,ECL': 358.0021991916692, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,MRVL': 354.68103820535504, u'FOX,DDD,MMM,ABT,ABBV,ACHC,ACN,ACE,JKHY,HUN': 302.3799587486733, u'FOX,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,GAS': 320.81602371231963, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,NVDA': 353.52190356591365, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,NLY': 358.71031645793073, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,KIM': 361.33979851841366, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,NVR': 357.98511506697287, u'ACHC,ACE,JKHY,HUN,CRM,NE,AAL,PCG,SWK,DEI': 344.99685556186546, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,DDD': 355.05777764329736, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,NUE': 352.1050506176674, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,CVC': 357.32028632344077, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,KSS': 357.0796661409447, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,LEG': 356.3673156146977, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,SO,OI': 352.71935272013735, u'FOX,DDD,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE': 318.93808971206613, u'ACE,DEI,PPG,WCC,EOG,SO,RJF,QGEN,ULTI,CME': 356.77817994759374, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,MXIM': 358.88864325138564, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,AGNC': 355.53593593551983, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,SPR': 357.8684356688334, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,TDS': 355.14731685571536, u'ACE,DEI,PPG,WCC,EOG,SO,RJF,ULTI,LB,RGA': 358.03888918816324, u'MMM,ACHC,ACE,JKHY,HUN,CRM,NE,OGE,AAL,AWI': 333.44457553907813, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,SO,RJF,NRF': 353.7209460798404, u'ACHC,ACE,JKHY,CRM,NE,PCG,SWK,DEI,PPG,WCC': 346.1085050548069, u'ACHC,ACE,JKHY,CRM,NE,PCG,DEI,PPG,WCC,BKU': 349.24536356303815, u'ACHC,ACE,JKHY,CRM,NE,PCG,SWK,DEI,PPG,TWTR': 342.72838439416984, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,SNDK': 353.15751657694057, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,TTC': 356.0211529541586, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,MDRX': 358.31974065002635, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,SO,RJF,AIG': 353.36373250223176, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,DGX': 342.67851047590636, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,ALL': 350.89755105717177, u'FOX,DDD,MMM,ABT,ABBV,ACHC,ACE,JKHY,HUN,CRM': 304.3484065906638, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,UGI': 355.48770923609163, u'ACHC,ACE,JKHY,CRM,NE,PCG,SWK,DEI,PPG,CRL': 344.762221621009, u'FOX,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,PRA': 318.6115664235234, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,LLL': 341.276643235755, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,EXC': 342.75120659811955, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,SO,MDT': 355.79441189309574, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,CNX': 355.8415771149696, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,LPI,QGEN': 356.8383774318355, 'FOXA,FOX,DDD,MMM,AAN,ABT,ABBV,ACHC,ACN,ACE': 287.6636160530993, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,LXK': 357.3451623636682, u'FOX,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,OGE': 333.9198369062946, u'ACE,DEI,PPG,WCC,EOG,SO,RJF,ULTI,LB,AEP': 357.98506543326533, u'FOX,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,NE,PCL': 320.89797305272407, u'FOX,DDD,MMM,ABT,ACHC,ACE,JKHY,HUN,CRM,MYL': 302.3092770135898, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,LSTR': 358.1924688435, u'FOX,DDD,MMM,AAN,ABT,ABBV,ACHC,ACN,ACE,JKHY': 294.6753371464599, u'ACE,CRM,PCG,DEI,PPG,WCC,BKU,EOG,IVZ,ED': 350.9610884733874, u'ACE,DEI,PPG,WCC,EOG,SO,RJF,QGEN,ULTI,LB': 359.8525555444056, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,MAN': 359.05900776949386, u'ACE,JKHY,CRM,NE,PCG,DEI,PPG,WCC,BKU,EOG': 350.39385097677473, u'MMM,ACHC,ACE,JKHY,HUN,CRM,NE,AAL,PCG,SWK': 336.2426601265601, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,BMY': 342.7695257712852, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,S': 351.64363797777105, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,ULTA': 342.1495637277533, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,BKD': 352.71517413212496, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,OPK': 354.44104417681956, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,RSG': 341.6044585749995, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,SO,ARRS': 352.49828436181707, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,VTR': 343.17072705909624, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,EXPE': 343.62467931097024, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,LPI,GPK': 354.1647956991674, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,ODFL': 344.8553552298687, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,PTC': 351.87184346769544, u'MMM,ACHC,ACE,JKHY,HUN,CRM,NE,OGE,AAL,PCG': 337.65592952137814, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,PPG': 345.1555015408606, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,STR': 356.0097770181278, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,SO,RJF,ADT': 353.55578573574036, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,SO': 351.89149316062964, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,RAI': 357.7789689640696, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,PHM': 344.12255936138916, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,SKX': 358.36740885793495, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,KEX': 353.1873065485242, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,ED,DLR': 351.42668486188734, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,WSO': 356.3796296985218, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,AVGO': 344.3181456939623, u'ACE,CRM,DEI,PPG,WCC,BKU,EOG,IVZ,SO,CPA': 352.00787222875266, u'ACHC,ACE,JKHY,HUN,CRM,NE,PCG,SWK,DEI,WCC': 343.69811674076135, u'ACE,CRM,DEI,PPG,WCC,EOG,SO,RJF,QGEN,ULTI': 356.9770565953332, u'ACE,DEI,PPG,WCC,EOG,RJF,ULTI,LB,AEP,NE': 361.3346132921664, u'ACHC,ACE,JKHY,CRM,NE,PCG,SWK,DEI,PPG,COL': 344.59545079468563}

### Algorithm to Select Assets:

We first choose 10 assets as our initial asset arbitrarily. We will run linear regression using this set against all the remaining assets, which will give us an original_rsquared_sum. 

We will then proceed to identify the bad ticker/asset in this set. We will then run another 10 linear regression where each has one of the 10 assets removed as our input. This will give us 10 rsquared sums. The bad asset is the one that, when removed, has the least impact on the rsquared sum of the remaining 9-item asset group. In other words, we want to find the asset, when removed, yields the highest rsquared sum in comparison to the other 9. We will then remove the bad asset and randomly select another asset in a pool of assets that exclude the ones in our selected assets and the identified bad asset. We will then run this process many times and find the asset group that give us the largest rsquared sum. My test run has 100 iterations.

### Installation and Running the Programme

The programme assumes the following dependencies
	
	python 2.7
	yahoo_finance	

### To download stock data as json:
	
	./download_stock_prices russell_1000_ticker.txt data.json

or 
	
	python download_stock_prices.py russell_1000_ticker.txt

You may also use your desired file as input. The programme will download data into ``data.json`` (you can change the output filename as well) when/AFTER all the data are fetched.

### Data Processing

	./process_data data.json

### Theory and Formula:

APPL T p
pt 0 <= t < T
rt = (pt-(p(t-1))/pt
rt 1 <= t < T
len(rt) = T - 1
mean = mean(rt)
rt.each do |r|
	r -= mean
end

y-axis = rt
x-axis

### Sample prices array/vector

Data is presented from most recent to oldest:

ZNGA = [2.68, 2.68, 2.64, 2.69, 2.71, 2.64, 2.58, 2.62, 2.64, 2.6, 2.59, 2.57, 2.54, 2.46, 2.57, 2.55, 2.6, 2.61, 2.63, 2.58, 2.63, 2.6, 2.58, 2.62, 2.6, 2.55, 2.54, 2.54, 2.53, 2.55, 2.47, 2.47, 2.46, 2.47, 2.54, 2.52, 2.52, 2.57, 2.58, 2.55, 2.45, 2.39, 2.37, 2.38, 2.43, 2.39, 2.4, 2.43, 2.42, 2.37, 2.38, 2.44, 2.46, 2.51, 2.47, 2.47, 2.47, 2.47, 2.46, 2.41, 2.4, 2.38, 2.36, 2.27, 2.28, 2.21, 2.3, 2.34, 2.38, 2.39, 2.42, 2.5, 2.52, 2.49, 2.51, 2.52, 2.49, 2.47, 2.47, 2.51, 2.5, 2.5, 2.54, 2.5, 2.5, 2.53, 2.52, 2.42, 2.43, 2.44, 2.37, 2.44, 2.52, 2.58, 2.62, 2.65, 2.7, 2.7, 2.75, 2.67, 2.67, 2.64, 2.45, 2.51, 2.49, 2.49, 2.48, 2.47, 2.51, 2.48, 2.54, 2.62, 2.67, 2.66, 2.69, 2.65, 2.71, 2.75, 2.7, 2.75, 2.67, 2.65, 2.65, 2.74, 2.84, 2.81, 2.84, 2.84, 2.86, 2.88, 2.94, 2.99, 2.98, 2.96, 2.98, 2.99, 2.99, 2.96, 2.95, 2.99, 3.04, 2.99, 3.01, 2.98, 2.99, 3.06, 3.02, 3.04, 2.98, 2.94, 2.95, 2.94, 2.86, 2.85, 2.93, 2.97, 2.96, 3.0, 2.97, 3.05, 3.05, 3.01, 2.93, 2.9, 2.86, 2.8, 2.61, 2.5, 2.49, 2.47, 2.45, 2.45, 2.45, 2.47, 2.52, 2.53, 2.51, 2.49, 2.44, 2.45, 2.46, 2.46, 2.44, 2.47, 2.49, 2.38, 2.9, 2.8, 2.77, 2.78, 2.79, 2.85, 2.78, 2.77, 2.72, 2.77, 2.81, 2.76, 2.7, 2.65, 2.62, 2.62, 2.57, 2.59, 2.68, 2.61, 2.55, 2.54, 2.54, 2.41, 2.39, 2.35, 2.32, 2.3, 2.31, 2.33, 2.32, 2.32, 2.32, 2.32, 2.31, 2.32, 2.24, 2.66, 2.81, 2.8, 2.75, 2.74, 2.64, 2.58, 2.59, 2.57, 2.56, 2.58, 2.58, 2.66, 2.67, 2.73, 2.62, 2.59, 2.63, 2.61, 2.59, 2.6, 2.56, 2.62, 2.64, 2.58, 2.68, 2.7, 2.71, 2.73, 2.66, 2.72, 2.74, 2.67, 2.71, 2.72, 2.81, 2.7, 2.44, 2.39, 2.32, 2.44, 2.5, 2.47, 2.51, 2.56, 2.48, 2.51, 2.53, 2.54, 2.48, 2.51, 2.6, 2.63, 2.64, 2.68, 2.69, 2.69, 2.69, 2.71, 2.75, 2.77, 2.73, 2.81, 2.75, 2.48, 2.43, 2.36, 2.35, 2.43, 2.56, 2.55, 2.4, 2.34, 2.4, 2.38, 2.37, 2.37, 2.34, 2.43, 2.29, 2.29, 2.29, 2.28, 2.27, 2.28, 2.37, 2.4, 2.56, 2.56, 2.55, 2.62, 2.62, 2.69, 2.7, 2.79, 2.83, 2.96, 3.01, 3.0, 3.05, 3.06, 3.08, 3.15, 3.02, 2.9, 2.92, 2.94, 2.99, 2.95, 3.02, 3.08, 3.05, 3.01, 3.01, 2.9, 2.88, 2.88, 2.95, 3.01, 3.08, 3.06, 3.12, 3.11, 3.08, 2.91, 2.85, 2.83, 2.86, 2.85, 2.88, 2.92, 2.79, 2.85, 2.84, 2.87, 2.92, 2.92, 2.93, 3.02, 3.0, 3.04, 3.06, 3.04, 3.1, 3.05, 3.08, 3.02, 3.1, 3.18, 3.24, 3.12, 3.01, 3.04, 3.15, 3.19, 3.2, 3.23, 3.21, 3.23, 3.19, 3.1, 3.06, 3.12, 3.04, 3.06, 3.11, 3.13, 3.08, 3.1, 3.1, 3.18, 3.2, 3.0, 2.98, 2.97, 3.27, 3.31, 3.39, 3.45, 3.41, 3.44, 3.41, 3.28, 3.3, 3.39, 3.35, 3.5, 3.35, 3.36, 3.52, 3.66, 3.59, 3.48, 3.54, 3.56, 3.71, 3.84, 3.86, 3.9, 4.05, 3.95, 3.9, 4.08, 4.35, 4.42, 4.56, 4.47, 4.29, 4.11, 4.01, 4.01, 4.07, 4.07, 4.37, 4.3, 4.19, 4.2, 4.15, 4.32, 4.38, 4.3, 4.42, 4.47, 4.64, 4.84, 4.7, 4.95, 5.08, 5.14, 5.35, 5.34, 5.46, 5.52, 5.79, 5.65, 5.53, 5.58, 5.51, 5.69, 5.65, 5.24, 5.06, 5.21, 5.24, 5.08, 5.0, 5.0, 5.09, 5.07, 5.15, 4.87, 4.76, 4.8, 4.63, 4.56, 4.53, 4.47, 4.46, 4.59, 4.49, 4.4, 3.56, 3.42, 3.39, 3.42, 3.5, 3.56, 3.63, 3.63, 3.55, 3.54, 4.03, 4.06, 4.03, 4.11, 4.12, 4.18, 4.14, 4.04, 3.97, 3.95]